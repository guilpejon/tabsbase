# Secrets defined here are available for reference under registry/password, env/secret, builder/secrets,
# and accessories/*/env/secret in config/deploy.yml. All secrets should be pulled from either
# password manager, ENV, or a file. DO NOT ENTER RAW CREDENTIALS HERE! This file needs to be safe for git.

# ============================================================================
# REQUIRED SECRETS FOR DEPLOYMENT
# ============================================================================
# Before deploying, ensure these secrets exist in 1Password:
# 1. KAMAL_REGISTRY_PASSWORD - Docker Hub access token
#    Create at: https://hub.docker.com/settings/security
# 2. RAILS_MASTER_KEY - Your Rails master key (from config/master.key)
# 3. TABSBASE_DATABASE_PASSWORD - PostgreSQL password for the database

# Read secrets from 1Password using op CLI
KAMAL_REGISTRY_PASSWORD=$(op read "op://Personal/TabsBase/KAMAL_REGISTRY_PASSWORD")
RAILS_MASTER_KEY=$(op read "op://Personal/TabsBase/RAILS_MASTER_KEY")
TABSBASE_DATABASE_PASSWORD=$(op read "op://Personal/TabsBase/TABSBASE_DATABASE_PASSWORD")

# PostgreSQL password for the database accessory (same as app password)
POSTGRES_PASSWORD=$TABSBASE_DATABASE_PASSWORD
